<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WangRuxin | Personal Page</title>
  <meta name="description" content="WangRuxin personal page" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🧑‍💻</text></svg>">
  <style>
    :root{
      --bg:#f7fff9; --fg:#0f172a; --sub:#475569; --muted:#e2f1e7; --card:#ffffff; --link:#16794a;
      --accent:#16a34a; --shadow:0 8px 30px rgba(2,6,23,0.07);

      /* 夏日配色（树叶/光标） */
      --leaf-1:#22c55e; --leaf-2:#16a34a; --leaf-3:#10b981; --leaf-4:#34d399; --leaf-5:#65a30d; --leaf-6:#4d7c0f;
      --branch:#8b5e3c;

      /* 自定义光标 */
      --cursor-dot:#16a34a;
      --cursor-ring:#16a34a;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0f172a; --fg:#e5e7eb; --sub:#9ca3af; --muted:#1f2937; --card:#101826; --link:#86efac; --accent:#22c55e;
        --cursor-dot:#22c55e; --cursor-ring:#22c55e;
      }
    }

    *{box-sizing:border-box}
    html,body{
      margin:0;padding:0;background:var(--bg);color:var(--fg);
      font:16px/1.7 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Noto Sans CJK SC","Microsoft Yahei",sans-serif;
    }
    a{color:var(--link);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    header{position:sticky;top:0;z-index:20;background:color-mix(in oklab, var(--bg) 85%, transparent);backdrop-filter:saturate(1.2) blur(10px);border-bottom:1px solid var(--muted)}
    nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700}
    .brand img{width:36px;height:36px;border-radius:50%;object-fit:cover;border:1px solid var(--muted)}
    .navlinks{display:flex;gap:18px;align-items:center}
    .navlinks a{padding:6px 10px;border-radius:10px}
    .navlinks a:hover{background:var(--muted)}
    .menu-btn{display:none}
    @media (max-width:820px){
      .navlinks{display:none}
      .menu-btn{display:inline-flex;gap:6px;align-items:center;border:1px solid var(--muted);padding:6px 10px;border-radius:10px;background:transparent;color:var(--fg)}
      #drawer{display:block}
    }

    /* Drawer */
    #drawer{display:none;position:fixed;inset:0;background:rgba(2,6,23,0.6);z-index:30}
    #drawer .panel{position:absolute;right:0;top:0;height:100%;width:78%;max-width:320px;background:var(--bg);padding:22px;border-left:1px solid var(--muted)}
    #drawer a{display:block;padding:10px 6px;border-radius:8px}
    #drawer a:hover{background:var(--muted)}

    .hero{display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:center;padding:42px 0}
    .hero-card{background:var(--card);border:1px solid var(--muted);border-radius:18px;padding:22px;box-shadow:var(--shadow)}
    .grid{display:grid;gap:20px}
    @media (min-width:901px){.grid-3{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:900px){.hero{grid-template-columns:1fr} }
    section{padding:28px 0}
    h1,h2{line-height:1.2;margin:0}
    h2{font-size:26px;margin-bottom:10px}
    .card{background:var(--card);border:1px solid var(--muted);border-radius:18px;padding:18px;box-shadow:var(--shadow)}
    .list{list-style:none;margin:0;padding:0}
    .list li{padding:10px 0;border-bottom:1px dashed var(--muted)}
    .list li:last-child{border-bottom:none}
    .footer{padding:40px 0;border-top:1px solid var(--muted);font-size:14px;color:var(--sub)}
    .pill{display:inline-flex;align-items:center;gap:8px;background:var(--muted);padding:6px 10px;border-radius:999px}
    .right{margin-left:auto}
    .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;background:var(--muted);padding:2px 6px;border-radius:6px;font-size:12px}
    .muted{color:var(--sub)}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--muted);border-radius:10px;padding:8px 12px}
    .btn:hover{background:var(--muted)}
    .post-meta{font-size:13px;color:var(--sub)}
    .section-title{display:flex;align-items:center;gap:12px}
    .section-title .line{height:1px;flex:1;background:var(--muted)}
    .wrap{display:flex;flex-wrap:wrap;gap:10px}
    .pub{display:grid;grid-template-columns:auto 1fr;gap:12px}
    .pub-badge{font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--muted)}

    /* 关键：确保内容层在画布之上（落叶在下方） */
    main, footer { position: relative; z-index: 1; }

    /* 背景画布：树冠 + 绿色落叶 */
    #leaves {
      position: fixed;
      inset: 0;
      z-index: 0;            /* 低于 header(20) / 内容(1) */
      pointer-events: none;  /* 不影响交互 */
      display: block;
    }

    /* 放大美化鼠标：隐藏系统箭头，使用点+环（更大） */
    body { cursor: none; }
    .cursor-dot, .cursor-ring {
      position: fixed; top:0; left:0; transform: translate(-50%,-50%);
      pointer-events: none; z-index: 1000;
      will-change: transform, width, height, opacity;
    }
    .cursor-dot {
      width: 10px; height: 10px; border-radius: 50%;
      background: var(--cursor-dot); opacity: .95;
      box-shadow: 0 0 10px color-mix(in oklab, var(--cursor-dot) 60%, transparent);
      transition: transform .12s ease, opacity .2s ease;
    }
    .cursor-ring {
      width: 40px; height: 40px; border-radius: 50%;
      box-shadow: 0 0 0 2px color-mix(in oklab, var(--cursor-ring) 80%, transparent);
      background: color-mix(in oklab, var(--cursor-ring) 10%, transparent);
      transition: transform .18s ease, opacity .25s ease;
      filter: blur(.2px);
    }
    .cursor-hover .cursor-dot { transform: translate(-50%,-50%) scale(1.7); }
    .cursor-hover .cursor-ring { transform: translate(-50%,-50%) scale(1.25); }

    /* 无障碍：减少运动则关闭动画与自定义光标 */
    @media (prefers-reduced-motion: reduce){
      body { cursor: auto; }
      .cursor-dot, .cursor-ring { display:none !important; }
      #leaves { display:none !important; }
    }
  </style>

  <script>
    const onReady=()=>{
      const drawer=document.getElementById('drawer');
      const openBtn=document.getElementById('open');
      const closeBtn=document.getElementById('close');
      const links=document.querySelectorAll('#drawer a');
      const toggle=(show)=>{drawer.style.display=show?'block':'none'}
      openBtn?.addEventListener('click',()=>toggle(true))
      closeBtn?.addEventListener('click',()=>toggle(false))
      links.forEach(a=>a.addEventListener('click',()=>toggle(false)))
    };
    document.addEventListener('DOMContentLoaded', onReady);
  </script>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Person",
    "name":"WangRuxin",
    "url":"https://toolnail.github.io/",
    "affiliation":"Shanghai Jiaotong University SJTU",
    "jobTitle":"学生",
    "sameAs":["https://scholar.google.com/citations?user=WangRuxin","https://github.com/yourname"],
    "email":"mailto:you@example.com"
  }
  </script>
</head>
<body>

  <!-- 背景画布（树冠 + 落叶） -->
  <canvas id="leaves" aria-hidden="true"></canvas>
  <!-- 自定义鼠标（放大版） -->
  <div class="cursor-ring" aria-hidden="true"></div>
  <div class="cursor-dot" aria-hidden="true"></div>

  <header>
    <div class="container">
      <nav>
        <div class="brand">
          <img src="https://avatars.githubusercontent.com/u/9919" alt="avatar" />
          <span>Ruxin Wang</span>
        </div>
        <div class="navlinks">
          <a href="#about">About</a>
          <a href="#news">News</a>
          <a href="#pubs">Publications</a>
          <a href="#projects">Projects</a>
          <a href="#posts">Blog</a>
          <a href="#contact">Contact</a>
        </div>
        <button id="open" class="menu-btn">菜单 ▾</button>
      </nav>
    </div>
  </header>

  <div id="drawer" aria-hidden="true">
    <div class="panel">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px">
        <strong>导航</strong>
        <button id="close" class="btn">关闭</button>
      </div>
          <a href="#about">About</a>
          <a href="#news">News</a>
          <a href="#pubs">Publications</a>
          <a href="#projects">Projects</a>
          <a href="#posts">Blog</a>
          <a href="#contact">Contact</a>
    </div>
  </div>

  <main class="container">
    <section class="hero">
      <div class="hero-card">
        <h1 style="font-size:32px">Hello, I am <span style="color:var(--accent);font-weight:800">Ruxin Wang</span></h1>
        <p class="muted">I am currently pursuing a Ph.D. degree at Shanghai Jiao Tong University.</p>
        <div class="wrap" style="margin-top:14px">
          <a class="btn" href="#pubs">New Paper</a>
          <a class="btn" href="files/CV.pdf"> Download CV</a>
          <a class="btn" href="https://scholar.google.com/" target="_blank" rel="noreferrer">Google Scholar</a>
          <a class="btn" href="https://github.com/toolnail" target="_blank" rel="noreferrer">GitHub</a>
        </div>
      </div>
      <div class="hero-card">
        <img src="https://toolnail.github.io/personal_photo.jpg" alt="cover" style="width:100%;height:auto;border-radius:12px;margin-top:8px;border:1px solid var(--muted)"/>
      </div>
    </section>

    <section id="about">
      <div class="section-title"><h2>About Me</h2><div class="line"></div></div>
      <div class="card">
        <p>I am currently pursuing a Ph.D. degree at Shanghai Jiao Tong University (SJTU). 
           Prior to that, I received the B.Eng. degree in Telecommunication Engineering from Xidian University (XDU) in 2025. </p>
      </div>
    </section>

    <section id="projects">
      <div class="section-title"><h2>Project</h2><div class="line"></div></div>
      <div class="grid grid-3">
        <div class="card">
          <strong>Progressive Integrated Access and Backhaul Network Augmentation</strong>
          <p class="muted">source code</p>
          <a class="btn" href="#">GitHub</a>
        </div>
      </div>
    </section>

    <section id="posts">
      <div class="section-title"><h2>Blog</h2><div class="line"></div></div>
      <div class="card">
        <ul class="list">
          <li>
            <a href="#">使用 McCormick 线性化处理二元×连续乘积</a>
            <div class="post-meta">2025-08 · 优化/MIP · 3 min read</div>
          </li>
          <li>
            <a href="#">IAB 网络中最大流基线的实现细节</a>
            <div class="post-meta">2025-07 · IAB/图优化 · 5 min read</div>
          </li>
          <li>
            <a href="#">用 CVX 与 Gurobi 重构节点选择-连接问题</a>
            <div class="post-meta">2025-06 · CVX/Gurobi · 4 min read</div>
          </li>
        </ul>
      </div>
    </section>

    <section id="contact">
      <div class="section-title"><h2>Contact</h2><div class="line"></div></div>
      <div class="card">
        <p><strong>Email：</strong>wangruxin@sjtu.edu.cn</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container" style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
      <span>© <span id="y"></span> WangRuxin</span>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    // ====== 背景：树冠 + 绿色落叶 ======
    (function(){
      const canvas = document.getElementById("leaves");
      const ctx = canvas.getContext("2d");
      let DPR=1, W=0, H=0;

      const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // 设备像素 & 尺寸
      function resize() {
        DPR = Math.max(1, Math.min(window.devicePixelRatio || 1, 2));
        W = canvas.width = Math.floor(window.innerWidth * DPR);
        H = canvas.height = Math.floor(window.innerHeight * DPR);
        canvas.style.width = window.innerWidth + "px";
        canvas.style.height = window.innerHeight + "px";
        ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
        buildCanopy(); // 尺寸变化时重绘树冠
      }
      window.addEventListener("resize", resize, { passive:true });
      resize();

      // ===== 树冠（离屏绘制成贴图，避免每帧重画）=====
      let canopyCanvas = document.createElement('canvas');
      let canopyCtx = canopyCanvas.getContext('2d');

      function buildCanopy(){
        canopyCanvas.width = W;
        // 树冠高度（CSS 像素）
        const canopyH = Math.max(140, Math.min(220, window.innerHeight*0.22)) * DPR;
        canopyCanvas.height = canopyH;

        const cctx = canopyCtx;
        cctx.setTransform(1,0,0,1,0,0);
        cctx.clearRect(0,0,canopyCanvas.width,canopyCanvas.height);

        // 背景轻微渐变，让顶部更明亮
        const g = cctx.createLinearGradient(0,0,0,canopyH);
        g.addColorStop(0, "rgba(255,255,255,0.55)");
        g.addColorStop(1, "rgba(255,255,255,0.0)");
        cctx.fillStyle = g;
        cctx.fillRect(0,0,canopyCanvas.width,canopyCanvas.height);

        // 画几条树枝（棕色贝塞尔曲线）
        cctx.lineWidth = 10 * DPR;
        cctx.lineCap = "round";
        cctx.strokeStyle = getCSS("--branch");
        const branchCount = 6;
        for(let i=0;i<branchCount;i++){
          const x0 = (i/(branchCount-1)) * W + (Math.random()-0.5) * 80*DPR;
          const y0 = canopyH * (0.85 + Math.random()*0.1);
          const cp1x = x0 + (Math.random()-0.5) * 160*DPR;
          const cp1y = y0 - 60*DPR - Math.random()*40*DPR;
          const cp2x = x0 + (Math.random()-0.5) * 200*DPR;
          const cp2y = y0 - 110*DPR - Math.random()*50*DPR;
          const x1 = x0 + (Math.random()-0.5) * 260*DPR;
          const y1 = y0 - 140*DPR - Math.random()*60*DPR;
          cctx.beginPath();
          cctx.moveTo(x0,y0);
          cctx.bezierCurveTo(cp1x,cp1y, cp2x,cp2y, x1,y1);
          cctx.stroke();
        }

        // 叶团（多个椭圆叠加，制造茂密效果）
        const greens = [getCSS("--leaf-1"),getCSS("--leaf-2"),getCSS("--leaf-3"),getCSS("--leaf-4"),getCSS("--leaf-5"),getCSS("--leaf-6")];
        const clusterCount = Math.max(10, Math.floor(window.innerWidth/120));
        for(let i=0;i<clusterCount;i++){
          const cx = (i/(clusterCount-1))*W + (Math.random()-0.5)*80*DPR;
          const cy = canopyH*0.45 + (Math.random()-0.5)*30*DPR;
          const leavesPerCluster = 10 + Math.floor(Math.random()*14);
          for(let j=0;j<leavesPerCluster;j++){
            const r = 18*DPR + Math.random()*28*DPR;
            const ox = (Math.random()-0.5) * 80*DPR;
            const oy = (Math.random()-0.5) * 40*DPR;
            const ang = Math.random()*Math.PI*2;
            cctx.save();
            cctx.translate(cx+ox, cy+oy);
            cctx.rotate(ang);
            cctx.globalAlpha = 0.75 + Math.random()*0.25;
            cctx.fillStyle = greens[(Math.random()*greens.length)|0];
            cctx.beginPath();
            cctx.ellipse(0,0,r*0.6,r,0,0,Math.PI*2);
            cctx.fill();
            cctx.restore();
          }
        }

        // 边缘柔化阴影，让树冠更自然
        const shade = cctx.createLinearGradient(0,canopyH-20*DPR,0,canopyH);
        shade.addColorStop(0,"rgba(0,0,0,0.08)");
        shade.addColorStop(1,"rgba(0,0,0,0.00)");
        cctx.fillStyle = shade;
        cctx.fillRect(0,canopyH-20*DPR,W,20*DPR);
      }

      function getCSS(varName){
        return getComputedStyle(document.documentElement).getPropertyValue(varName).trim() || "#22c55e";
      }

      // ===== 绿色落叶（从树冠区域掉落）=====
      const COLORS = ["--leaf-1","--leaf-2","--leaf-3","--leaf-4","--leaf-5","--leaf-6"].map(getCSS);
      const leaves = [];
      const BASE_COUNT = 38; // 基础数量
      const DENSITY = Math.max(1, Math.min(1.0, window.innerWidth / 1200));
      const leafCount = Math.floor(BASE_COUNT * DENSITY);

      class Leaf {
        constructor(init=false){ this.reset(init); }
        reset(initial=false){
          this.size = 18 + Math.random()*22;
          this.x = Math.random()*window.innerWidth;
          // 出生在树冠底部附近（含轻微上方）
          this.y = initial ? Math.random()* (window.innerHeight*0.5) : (Math.random()*40 - 60);
          this.speedY = 0.7 + Math.random()*1.5;
          this.swing = 1.0 + Math.random()*1.8;
          this.baseAngle = Math.random()*Math.PI*2;
          this.angle = Math.random()*Math.PI*2;
          this.angularSpeed = (Math.random()*0.02 - 0.01);
          this.color = COLORS[(Math.random()*COLORS.length)|0];
          this.alpha = 0.92;
        }
        update(t){
          this.y += this.speedY;
          this.angle += this.angularSpeed;
          this.x += Math.sin(t*0.0012 + this.baseAngle) * this.swing * 0.8;
          if(this.y > window.innerHeight + this.size*1.2) this.reset(false);
        }
        draw(g){
          g.save();
          g.globalAlpha = this.alpha;
          g.translate(this.x, this.y);
          g.rotate(this.angle);
          g.fillStyle = this.color;
          // 叶片：椭圆 + 轻微叶脉
          g.beginPath();
          g.ellipse(0,0,this.size*0.55,this.size,0,0,Math.PI*2);
          g.fill();
          g.globalAlpha = this.alpha*0.12;
          g.strokeStyle = "#000";
          g.beginPath();
          g.moveTo(0,-this.size);
          g.lineTo(0,this.size);
          g.stroke();
          g.restore();
        }
      }
      for(let i=0;i<leafCount;i++) leaves.push(new Leaf(true));

      let rafId=null;
      function animate(t){
        ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
        // 先画树冠（固定贴图）
        ctx.drawImage(canopyCanvas,0,0, canop yCanvas.width/DPR, canopyCanvas.height/DPR);
        // 再画落叶
        for(const lf of leaves){ lf.update(t||0); lf.draw(ctx); }
        rafId = requestAnimationFrame(animate);
      }

      if(!reduceMotion){
        animate(0);
        document.addEventListener("visibilitychange", ()=>{
          if(document.hidden){ if(rafId) cancelAnimationFrame(rafId), rafId=null; }
          else if(!rafId){ rafId=requestAnimationFrame(animate); }
        });
      }
    })();

    // ====== 自定义鼠标（放大 + 环，交互放大）======
    (function(){
      const dot = document.querySelector('.cursor-dot');
      const ring = document.querySelector('.cursor-ring');
      const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reduceMotion || !dot || !ring) return;

      let x = window.innerWidth/2, y = window.innerHeight/2;
      let rx = x, ry = y; // ring 慢跟随
      let rafId=null;

      function onMove(e){
        x = e.clientX; y = e.clientY;
        dot.style.transform = `translate(${x}px, ${y}px) translate(-50%, -50%)`;
      }
      window.addEventListener('mousemove', onMove, { passive:true });
      function loop(){
        rx += (x - rx) * 0.2;
        ry += (y - ry) * 0.2;
        ring.style.transform = `translate(${rx}px, ${ry}px) translate(-50%, -50%)`;
        rafId = requestAnimationFrame(loop);
      }
      loop();

      const hoverables = ['a','button','[role="button"]','.btn','input','select','textarea','summary','label'];
      document.addEventListener('mouseover', (e)=>{
        if (hoverables.some(sel => e.target.closest(sel))) document.body.classList.add('cursor-hover');
      });
      document.addEventListener('mouseout', (e)=>{
        if (hoverables.some(sel => e.target.closest(sel))) document.body.classList.remove('cursor-hover');
      });

      document.addEventListener('visibilitychange', ()=>{
        if(document.hidden && rafId){ cancelAnimationFrame(rafId); rafId=null; }
        else if(!rafId){ rafId=requestAnimationFrame(loop); }
      });
    })();
  </script>
</body>
</html>
